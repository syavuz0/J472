---
title: "Reverse Engineering Project"
author: Nur Yavuz, Laura Charleston, Brennan Stewart
date: 10/15/2023
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

In this notebook, we are reverse engineering the story, [STORY NAME](STORY%20URL)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}
library(tidyverse)
library(janitor)
library(lubridate)
```

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data.

```{r}
# Load required data
dc_data <- read_csv("data/dc-wikia-data.csv")
marvel_data <- read_csv("data/marvel-wikia-data.csv")

# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")

# Clean required data and prepare for analysis if needed. 
dc_data <- dc_data |> 
  colnames(dc_data)[colnames(dc_data) == 'GSM'] <- 'Gender and Sexual Minorities'

```

## Sentences to Engineer

In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

-   **Sentence text**: Women were substantially underrepresented among characters with at least one appearance. Among the characters for which we have gender data,12 females made up only 29.3 percent of the DC character list and 24.7 percent of the Marvel roster.
-   **Analysis summary**: The data is not completely identical, but that could have to do with new data being entered into the dataset, which skews the results.

```{r}
# Put code to reverse engineer sentence here
marvel_data |>
  group_by(SEX) |>
  summarize(count = n()) |>
  mutate(pct_female = count/16376*100) |>
    arrange(desc(pct_female))

# Display results of code below this codeblock

```

### Sentence 2

-   **Sentence text**: Ms. Marvel is one of just 3,599 female characters in Marvel's universe.
-   **Analysis summary**: The number is higher than the one in the article, but that could be due to more entries in the data set.

```{r}
# Put code to reverse engineer sentence here
marvel_data |>
  group_by(SEX) |>
  summarise(count = n())

# Display results of code below this codeblock
#3837 of marvel characters are female

```

### Sentence 3

-   **Sentence text**: Women and men were almost exactly equally likely to have a secret identity in the Marvel universe (49.4 percent of males and 49.5 percent of females), while in the DC universe 51 percent of males had a secret identity and 45 percent of females did.
-   **Analysis summary**: The values I received in the Marvel Data shows that avg 9 percent of women have secret identities and 27 percent of men do. This is not displaying the same results as the article did.

```{r}
# Put code to reverse engineer sentence here
marvel_data |> 
  filter(str_detect(ID, "Secret Identity")) |>
  group_by(ID, SEX) |>
  summarise(count = n()) |> 
  mutate(pct_fem_secret_ID = count/16376*100) 
  
# Display results of code below this codeblock

```

### Sentence 4

-   **Sentence text**: [Paste in sentence to engineer here]
-   **Analysis summary**: [Write up two to three sentences describing the results of your analysis. Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 5

-   **Sentence text**: [Paste in sentence to engineer here]
-   **Analysis summary**: [Write up two to three sentences describing the results of your analysis. Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

-30-

-   

```{r}
# Put code to display and visualize data
marvel_data_vis <- marvel_data |>
  group_by(SEX) |>
  summarize(count = n()) |>
  mutate(pct_female = count/16376*100) |>
    arrange(desc(pct_female))

marvel_data_vis |>
  ggplot() +
  geom_bar(aes(x=SEX, weight=pct_female)) +
  coord_flip() + 
  theme_economist() +
  labs(
    title="Percentage of SEX in Marvel Comics",
    x = "SEX",
    y = "Percent",
    caption = "source: Whalt Hickey" )
    


```
